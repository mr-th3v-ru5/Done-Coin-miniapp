<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  />
  <title>DONE Hub ‚Äî $DONE Airdrop & Bet on Base</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body class="bet-body">
  <div class="bet-shell">
    <div class="bet-card hub-card">
      <!-- HEADER -->
      <header class="bet-header">
        <div class="bet-brand">
          <div class="bet-logo">D</div>
          <div class="bet-title-block">
            <div class="bet-title">DONE Hub</div>
            <div class="bet-subtitle">$DONE Airdrop &amp; Bet on Base</div>
          </div>
        </div>
        <div class="bet-header-right">
          <span class="chip chip-score" id="score-pill">
            Neynar score: <span id="score-val">‚Äî</span>
          </span>
        </div>
      </header>

      <!-- TABS -->
      <nav class="hub-tabs">
        <button class="hub-tab active" id="tab-airdrop">Airdrop Quest</button>
        <button class="hub-tab" id="tab-bet">Bet &amp; Earn</button>
      </nav>

      <!-- AIRDROP VIEW -->
      <section class="bet-section" id="view-airdrop">
        <!-- Farcaster -->
        <div class="bet-section-head">
          <h2 class="bet-section-title">Farcaster</h2>
          <span class="bet-section-caption">
            we read your FID &amp; score to protect the airdrop
          </span>
        </div>
        <div class="bet-row">
          <span class="bet-row-label">User</span>
          <span class="bet-row-value" id="fc-user">unknown</span>
        </div>
        <div class="bet-row">
          <span class="bet-row-label">FID</span>
          <span class="bet-row-value" id="fid-label">unknown</span>
        </div>
        <p class="bet-hint" id="fc-hint">
          If your FID is not detected, the mini app is not receiving it yet.
          Make sure the integration passes <code>fid</code> / <code>viewerFid</code> in the URL.
        </p>

        <!-- Wallet -->
        <div class="bet-divider"></div>
        <div class="bet-section-head">
          <h2 class="bet-section-title">Wallet</h2>
        </div>
        <div class="bet-row">
          <span class="bet-row-label">Address</span>
          <span class="bet-row-value" id="wallet-addr">‚Äî</span>
        </div>
        <p class="bet-hint">
          Use the same wallet here, in the airdrop, and in the bet dApp on the Base network.
        </p>

        <!-- Quest steps -->
        <div class="bet-divider"></div>
        <div class="bet-section-head">
          <h2 class="bet-section-title">Quest steps</h2>
          <span class="bet-section-caption">
            tick each task when you finish it
          </span>
        </div>

        <ol class="steps">
          <li class="step" data-step="1">
            <div class="step-num">1</div>
            <div class="step-body">
              <div class="step-title">Follow DONE creator</div>
              <div class="step-text">
                Follow the official DONE account on Farcaster / X.
              </div>
            </div>
          </li>
          <li class="step" data-step="2">
            <div class="step-num">2</div>
            <div class="step-body">
              <div class="step-title">Cast about $DONE</div>
              <div class="step-text">
                Post one cast about $DONE and mention your favorite community.
              </div>
            </div>
          </li>
          <li class="step" data-step="3">
            <div class="step-num">3</div>
            <div class="step-body">
              <div class="step-title">Join channel / group</div>
              <div class="step-text">
                Join the official DONE discussion channel or group.
              </div>
            </div>
          </li>
          <li class="step" data-step="4">
            <div class="step-num">4</div>
            <div class="step-body">
              <div class="step-title">Hold at least 1 DONE</div>
              <div class="step-text">
                Keep at least 1 DONE token in your Base wallet.
              </div>
            </div>
          </li>
        </ol>

        <div class="progress-wrap">
          <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
          </div>
          <div class="progress-label" id="progressLabel">
            0 / 4 steps complete
          </div>
          <p class="bet-hint" id="progressHint">
            Tap each step when it's done. You can still claim manually via the main website.
          </p>
        </div>

        <!-- Claim -->
        <div class="bet-divider"></div>
        <div class="bet-section-head">
          <h2 class="bet-section-title">Claim</h2>
        </div>
        <button class="btn-primary btn-claim" id="btn-claim" disabled>
          üéÅ Claim 1,000 DONE
        </button>
        <div class="status-line" id="claim-status">
          FID is not detected yet ‚Äî claim is disabled.
        </div>
      </section>

      <!-- BET VIEW -->
      <section class="bet-section view-hidden" id="view-bet">
        <div class="bet-section-head">
          <h2 class="bet-section-title">Bet &amp; earn $DONE</h2>
          <span class="bet-section-caption">
            BTC up/down prediction on Base
          </span>
        </div>

        <p class="bet-hint">
          Use your $DONE to take positions on BTC price. The on-chain
          prediction contract decides winners based on Chainlink oracle data.
        </p>

        <div class="bet-highlight">
          <div class="bet-highlight-main">
            <div class="bet-highlight-title">Live BTC prediction</div>
            <div class="bet-highlight-sub">
              Place UP / DOWN bets in rounds and claim rewards if you are on
              the winning side.
            </div>
          </div>
          <div class="bet-highlight-side">
            <div class="pair-small">BTC / USDT</div>
            <div class="pair-price" id="mini-btc-price">‚Äî</div>
          </div>
        </div>

        <button class="btn-primary" id="btn-open-bet">
          üé∞ Open Bet dApp
        </button>

        <p class="bet-hint">
          The bet dApp will open in a new window / tab. In the mini app
          environment you use your Farcaster account wallet.
        </p>
      </section>

      <footer class="bet-footer">
        DONE Hub ‚Ä¢ $DONE on Base ‚Ä¢ Use responsibly
      </footer>
    </div>
  </div>

  <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="/mini-app.js"></script>
</body>
</html>
